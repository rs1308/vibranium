#!/usr/bin/env bash

source "$VIBRANIUM_PATH/vibranium-core-defaults"
source "$XDG_CONFIG_HOME/vibranium/settings"

SYSTEMD_TARGETS=("waybar" "cliphist" "hypridle" "gnome-polkit")

[ "$VIBRANIUM_GLOBAL_SHOW_WALLPAPER" = "true" ] && SYSTEMD_TARGETS+=("hyprpaper")
[ "$VIBRANIUM_GLOBAL_USE_OSD" = "true" ] && SYSTEMD_TARGETS+=("swayosd")

systemctl --user restart "${SYSTEMD_TARGETS[@]}"
vibranium-cmd-refresh-dunst

if [[ "$1" != "-q" ]]; then
	notify-send -r 1 -t 1500 "Vibranium" "Configuration reloaded"
fi
