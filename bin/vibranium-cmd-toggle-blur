#!/usr/bin/env bash

# Toggle window blur in Hyprland.
# Reads current blur state, flips true/false in config, then reloads Hyprland.

CONF="$XDG_CONFIG_HOME/hypr/hyprland.conf.d/look-and-feel.conf"

case "$(hyprctl -j getoption decoration:blur:enabled | jq -r '.int')" in
    0) BLUR_ENABLED=false ;;
    1) BLUR_ENABLED=true ;;
esac

if [[ $BLUR_ENABLED == false ]]; then
    vibranium-cmd-edit-wm-config decoration:blur:enabled:true "$CONF"
    echo "disabled"
else
    vibranium-cmd-edit-wm-config decoration:blur:enabled:false "$CONF"
    echo "enabled"
fi

hyprctl -q reload config-only &
