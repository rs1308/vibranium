#!/usr/bin/env bash

source "$VIBRANIUM_PATH/vibranium-core-lib"

OPTIONS=(
    "Package Management"
    "Vibranium Settings"
    "Utilities" "Help"
)

INDEX=0

while :; do
    CHOSEN="$(printf "%s\n" "${OPTIONS[@]}" | rofi_cmd "Vibranium" "ESC to exit" -selected-row "$INDEX")"
    [ -z "$CHOSEN" ] && break

    for i in "${!OPTIONS[@]}"; do
        if [ "${OPTIONS[$i]}" == "$CHOSEN" ]; then
            INDEX="$i"
            break
        fi
    done

    case "$CHOSEN" in
        "Vibranium Settings")
            "$VIBRANIUM_PATH/configure/vibranium-main-menu"
            ;;
        "Help")
            vibranium-menu-help
            ;;
        "Package Management")
            vibranium-menu-package-management
            ;;
        "Utilities")
            vibranium-menu-utilities
            ;;
        *)
            continue
            ;;
    esac
done
